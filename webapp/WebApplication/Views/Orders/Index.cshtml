@using K9.Base.WebApplication.Controllers
@using K9.Base.WebApplication.Helpers
@using K9.SharedLibrary.Authentication
@using K9.SharedLibrary.Models
@using EButtonType = K9.SharedLibrary.Models.EButtonType
@model Order
@{
    Layout = "~/Views/Shared/_LayoutFormWide.cshtml";
}

<script language="javascript">
    $(function () {
        customOrder = [[7, "asc"],[3, "desc"]];
    });
</script>

@Html.BootstrapTable(new DataTableOptions<Order>
{
    AllowCreate = true,
    AllowEdit = true,
    AllowDelete = ((BaseController<Order>)ViewContext.Controller).Roles.CurrentUserIsInRoles(RoleNames.Administrators),
    VisibleColumns = new List<string>
    {
        "FullName",
        "UserName",
        "ContactName",
        "RequestedOn",
        "DueBy",
        "MadeOn",
        "PaidOn",
        "CompletedOn",

    },
    CustomButtons = new List<IButton>
    {
        new Button
        {
            Action = "EditProducts",
            Text = Dictionary.EditProducts,
            ButtonType = EButtonType.Primary,
            IconCssClass = "fa fa-pencil"
        },
        new Button
        {
            Action = "EditProductQuantities",
            Text = Dictionary.EditProductQuantities,
            ButtonType = EButtonType.Primary,
            IconCssClass = "fa fa-pencil"
        },
        new Button
        {
            Action = "EditProductPacks",
            Text = Dictionary.EditProductPacks,
            ButtonType = EButtonType.Primary,
            IconCssClass = "fa fa-pencil"
        },
        new Button
        {
            Action = "EditProductPackQuantities",
            Text = Dictionary.EditProductPackQuantities,
            ButtonType = EButtonType.Primary,
            IconCssClass = "fa fa-pencil"
        },
        new Button
        {
            Action = "DuplicateOrder",
            Text = Dictionary.DuplicateOrder,
            ButtonType = EButtonType.Primary,
            IconCssClass = "fa fa-copy"
        },
        new Button
        {
            Action = "OrderReview",
            Text = Dictionary.OrderReview,
            ButtonType = EButtonType.Info,
            IconCssClass = "fa fa-eye"
        },
        new Button
        {
            Action = "DownloadOrderCsv",
            Text = Dictionary.DownloadAsCsv,
            ButtonType = EButtonType.Success,
            IconCssClass = "fa fa-download"
        }
    }
})
